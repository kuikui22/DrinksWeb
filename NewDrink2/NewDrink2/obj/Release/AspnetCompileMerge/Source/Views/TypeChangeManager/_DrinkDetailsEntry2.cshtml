@using NewDrink2.Models
@model NewDrink2.Models.Add2_Drinks_detail

<tr>
    @using (Html.BeginCollectionItem2("Add2_Drinks_details"))
    {
        <td>
            @Html.EditorFor(model => model.DrinkName, new { htmlAttributes = new { @class = "form-control" } })
            @Html.ValidationMessageFor(model => model.DrinkName, "", new { @class = "text-danger" })
        </td>
        <td>
            @Html.DropDownListFor(model => model.SizeTypeM, Model.SizeType, new { @class = "form-control" })
            @Html.ValidationMessageFor(model => model.SizeTypeM, "", new { @class = "text-danger" })
        </td>
        //_DrinkDetailsEntry2Size
        @*foreach (var itemDe in Model.Add2_Drinks_Sizes)
        {
            <td>
                @Html.HiddenFor(model => itemDe.SizeID)
                @Html.HiddenFor(model => itemDe.SizeName)
                @Html.EditorFor(model => itemDe.Price, new { htmlAttributes = new { @class = "form-control" } })
            </td>
        }*@
        //foreach (Add2_Drinks_Size item in Model.Add2_Drinks_Sizes)
        //{
        //    Html.RenderPartial("_DrinkDetailsEntry2Size", item);
        //}
        <td>
            <input type="checkbox" onclick="$(this).parent('td').children('input:checkbox').prop('checked', $(this).prop('checked'));" checked="checked" />全選<br />
            @for (int i = 0; i < Model.Sweet.Count; i++)
            {
                @Html.HiddenFor(model => model.Sweet[i].Value)
                @Html.CheckBoxFor(model => (model.Sweet[i]).Selected)
                @Html.DisplayFor(model => model.Sweet[i].Text)
                <br />
            }
            @Html.ValidationMessageFor(model => model.Sweet, "", new { @class = "text-danger" })
        </td>
        <td>
            <input type="checkbox" onclick="$(this).parent('td').children('input:checkbox').prop('checked', $(this).prop('checked'));" checked="checked" />全選<br />
            @for (int i = 0; i < Model.IceHot.Count; i++)
            {
                @Html.HiddenFor(model => model.IceHot[i].Value)
                @Html.CheckBoxFor(model => (model.IceHot[i]).Selected)
                @Html.DisplayFor(model => model.IceHot[i].Text)
                <br />
            }
            @Html.ValidationMessageFor(model => model.IceHot, "", new { @class = "text-danger" })
        </td>
        <td>
            <input type="checkbox" onclick="$(this).parent('td').children('input:checkbox').prop('checked', $(this).prop('checked'));" />全選<br />
            @for (int i = 0; i < Model.AddItem.Count; i++)
            {
                @Html.HiddenFor(model => model.AddItem[i].Value)
                @Html.CheckBoxFor(model => (model.AddItem[i]).Selected)
                @Html.DisplayFor(model => model.AddItem[i].Text)
                if (i % 3 == 2)
                {
                    <br />
                }
            }
            @Html.ValidationMessageFor(model => model.AddItem, "", new { @class = "text-danger" })
        </td>
        <td>
            @Html.EditorFor(model => model.DrinkPrice, new { htmlAttributes = new { @class = "form-control", @size = "5" } })
            @Html.ValidationMessageFor(model => model.DrinkPrice, "", new { @class = "text-danger" })
        </td>
        @*<td>
            @Html.EditorFor(model => model.Bathus, new { htmlAttributes = new { @class = "form-control" } })
        </td>*@
        <td>
            <a href="#" onclick="$(this).parent().parent('tr').remove();">刪除</a>
        </td>
    }
</tr>


@section Scripts{
   <script>
       window.onload = function () {
           $("[type=checkbox]").attr("checked", true);
       }
    </script>    
}

